<h1 class="m-0">Nueva Citas: <ion-icon name="receipt-outline"></ion-icon><ion-icon name="navigate-circle-outline"></ion-icon></h1>
<?php

/**
 * @var Laminas\View\Renderer\PhpRenderer $this
 */

$title =  $this->translate('Nuevo Ingreso'); # page title
# meta keywords
$this->headMeta()->appendName('keywords', 'Traslado, Rescate, Pacientes');
# meta description
$this->headMeta()->appendName('description', 'Nuevos Traslados de Pacientes');
# page title
$this->headTitle($this->escapeHtml($title));


#form
$form = $this->form;
$this->form->prepare();
$form->setAttribute('action', $this->url('guardar-cita'));  #oops

?>
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Datos del paciente</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                <i class="fas fa-minus"></i>
                            </button>                            
                        </div>
                    </div>
                    <div class="card-body" style="display: block;">
                        <table>
                            <tr>
                                <td style="width: 800px;">
                                    <div class="card-footer" style="display: block;">


                                        <strong>Nombre: </strong><?= $this->paciente->getNomCompleto() ?><br>
                                        <strong>Direcci√≥n: </strong><?= $this->paciente->getDireccion() ?><br>
                                        <strong>Escolaridad: </strong><?= $this->paciente->getEscolardiad() ?>
                                    </div>
                                </td>
                                <td style="width:300px;">
                                    <div class="card-footer" style="display: block;">
                                        <strong>Tipo Ingreso: </strong><?= $this->paciente->getTipoIngreso() ?><br>
                                        <strong>Acude: </strong><?= $this->paciente->getAcude() ?><br>
                                        <strong>Fecha Ingreso: </strong><?= $this->paciente->getFechaIngreso() ?>
                                    </div>
                                </td>
                                <td style="width:300px;">
                                    <div class="card-footer" style="display: block;">
                                        <div class="image">
                                            <img height="73px" width="73px" src="/sysclinica/public/dist/img/user2-160x160.jpg" class="img-circle elevation-2" alt="User Image">
                                        </div>
                                    </div>
                                </td>

                            </tr>
                        </table>


                    </div>

                </div>
            </div>
        </div>
</section>
<!-- Content Header (Page header) -->
<?= $this->form()->openTag($form); ?>
<div class="card card-info card-outline">
    <div class="card-header">
        <h3 class="card-title">
            <i class="fas fa-edit"></i>
            Captura la cita del paciente
        </h3>
    </div>
    <div class="card-body">
        <div class="row">
            <!-- /.card -->
        </div>

        <div class="row">
            <div class="col-5">
                <!-- text input -->
                <?= $this->formHidden($form->get('idPacientes')->setValue($this->paciente->getIdPacientes())); ?>
                <?= $this->formHidden($form->get('idExpedientes')->setValue($this->paciente->getIdExpedientes())); ?>
                <?= $this->formLabel($form->get('motivo')); ?>
                <div class="form-group">
                    <?= $this->formText($form->get('motivo')); ?>
                </div>
                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('motivo')); ?>
                </div>
            </div>
            <div class="col-5">
                <?= $this->formLabel($form->get('observaciones')); ?>
                <div class="form-group">
                    <?= $this->formText($form->get('observaciones')); ?>
                </div>
                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('observaciones')); ?>
                </div>
            </div>
            <div class="col-5">
                <?= $this->formLabel($form->get('ubicacion')); ?>
                <div class="form-group">
                    <?= $this->formText($form->get('ubicacion')); ?>
                </div>
                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('ubicacion')); ?>
                </div>
            </div>
            <div class="col-3">
                <?= $this->formLabel($form->get('fecha')); ?>
                <div class="input-group date" id="reservationdatetime" data-target-input="nearest">
                    <?= $this->formText($form->get('fecha')); ?>
                    <div class="input-group-append" data-target="#reservationdatetime" data-toggle="datetimepicker">
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
                </div>

                <div class="text-danger">
                    <?= $this->formElementErrors($form->get('fecha')); ?>
                </div>
            </div>
            <?= $this->formSubmit($form->get('btnGuardar')); ?>
        </div>

        <?= $this->form()->closeTag(); ?>
    </div>